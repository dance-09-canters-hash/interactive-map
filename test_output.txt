
 RUN  v2.1.9 /Volumes/ExtremeSSD/ag/maps_ag/interactive-map

 ✓ src/components/InteractiveMap.test.jsx > InteractiveMap > renders without crashing
 ✓ src/components/InteractiveMap.test.jsx > InteractiveMap > accepts currentView prop

⎯⎯⎯⎯⎯⎯ Unhandled Errors ⎯⎯⎯⎯⎯⎯

Vitest caught 4 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
TypeError: g.selectAll(...).remove is not a function
 ❯ renderMaps src/components/InteractiveMap.jsx:115:24
    113| 
    114|     async function renderMaps() {
    115|       g.selectAll("*").remove()
       |                        ^
    116|       setLoading(true)
    117|       setError(null)
 ❯ src/components/InteractiveMap.jsx:165:5
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ node_modules/react-dom/cjs/react-dom.development.js:26808:9

This error originated in "src/components/InteractiveMap.test.jsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "src/components/InteractiveMap.test.jsx". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
TypeError: g.selectAll(...).remove is not a function
 ❯ renderMaps src/components/InteractiveMap.jsx:115:24
    113| 
    114|     async function renderMaps() {
    115|       g.selectAll("*").remove()
       |                        ^
    116|       setLoading(true)
    117|       setError(null)
 ❯ src/components/InteractiveMap.jsx:165:5
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ node_modules/react-dom/cjs/react-dom.development.js:26808:9

This error originated in "src/components/InteractiveMap.test.jsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "src/components/InteractiveMap.test.jsx". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
TypeError: g.selectAll(...).remove is not a function
 ❯ renderMaps src/components/InteractiveMap.jsx:115:24
    113| 
    114|     async function renderMaps() {
    115|       g.selectAll("*").remove()
       |                        ^
    116|       setLoading(true)
    117|       setError(null)
 ❯ src/components/InteractiveMap.jsx:165:5
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ node_modules/react-dom/cjs/react-dom.development.js:26808:9

This error originated in "src/components/InteractiveMap.test.jsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "src/components/InteractiveMap.test.jsx". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
TypeError: g.selectAll(...).remove is not a function
 ❯ renderMaps src/components/InteractiveMap.jsx:115:24
    113| 
    114|     async function renderMaps() {
    115|       g.selectAll("*").remove()
       |                        ^
    116|       setLoading(true)
    117|       setError(null)
 ❯ src/components/InteractiveMap.jsx:165:5
 ❯ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ❯ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ❯ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ❯ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ❯ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ❯ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ❯ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ❯ node_modules/react-dom/cjs/react-dom.development.js:26808:9

This error originated in "src/components/InteractiveMap.test.jsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "src/components/InteractiveMap.test.jsx". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 Test Files  1 passed (1)
      Tests  2 passed (2)
     Errors  4 errors
   Start at  06:05:13
   Duration  1.28s (transform 54ms, setup 169ms, collect 43ms, tests 17ms, environment 292ms, prepare 271ms)

